<div class="dialog-content-wrapper">
    <mat-toolbar matDialogTitle class="bg-green mat-elevation-z2">
        <mat-toolbar-row>
            <span class="title dialog-title">{{modalTitle}}</span>
        </mat-toolbar-row>
    </mat-toolbar>

    <div mat-dialog-content>
        <form [formGroup]="formGroup">
            <table class="example-full-width" cellspacing="0">
                <tr>
                    <td>
                        <mat-form-field appearance="standard">
                            <mat-label>Employee</mat-label>
                            <mat-select formControlName="empid" required>
                                <mat-option *ngFor="let employee of employees"
                                            [value]="employee.empId">{{employee.fullName}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="formGroup.get('empid').hasError('required')">
                                Required field
                            </mat-error>
                        </mat-form-field>
                    </td>
                    <td>
                        <mat-form-field appearance="standard">
                            <mat-label>Shipper</mat-label>
                            <mat-select formControlName="shipperid" required>
                                <mat-option *ngFor="let shipper of shippers"
                                            [value]="shipper.shipperId">{{shipper.companyName}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="formGroup.get('shipperid').hasError('required')">
                                Required field
                            </mat-error>
                        </mat-form-field>
                    </td>
                </tr>
            </table>
            <mat-form-field class="example-full-width" appearance="standard">
                <mat-label>Ship Name</mat-label>
                <input matInput required formControlName="shipname" autocomplete="off">
                <mat-error *ngIf="formGroup.get('shipname').hasError('required')">
                    Required field
                </mat-error>
                <mat-error *ngIf="formGroup.get('shipname').hasError('maxlength')">
                    Can not be greather than 40
                </mat-error>
            </mat-form-field>
            <table class="example-full-width" cellspacing="0">
                <tr>
                    <td>
                        <mat-form-field class="example-full-width" appearance="standard">
                            <mat-label>Ship Address</mat-label>
                            <input matInput required formControlName="shipaddress" autocomplete="off">
                            <mat-error *ngIf="formGroup.get('shipaddress').hasError('required')">
                                Required field
                            </mat-error>
                            <mat-error *ngIf="formGroup.get('shipaddress').hasError('maxlength')">
                                Can not be greather than 60
                            </mat-error>
                        </mat-form-field>
                    </td>
                    <td>
                        <mat-form-field class="example-full-width" appearance="standard">
                            <mat-label>Ship City</mat-label>
                            <input matInput required formControlName="shipcity" autocomplete="off">
                        <mat-error *ngIf="formGroup.get('shipcity').hasError('required')">
                            Required field
                        </mat-error>
                        <mat-error *ngIf="formGroup.get('shipcity').hasError('maxlength')">
                            Can not be greather than 15
                        </mat-error>
                        </mat-form-field>
                    </td>
                    <td>
                        <mat-form-field class="example-full-width" appearance="standard">
                            <mat-label>Ship Country</mat-label>
                            <input matInput required formControlName="shipcountry" autocomplete="off">
                            <mat-error *ngIf="formGroup.get('shipcountry').hasError('required')">
                                Required field
                            </mat-error>
                            <mat-error *ngIf="formGroup.get('shipcountry').hasError('maxlength')">
                                Can not be greather than 15
                            </mat-error>
                        </mat-form-field>
                    </td>
                </tr>
            </table>
            <table class="example-full-width" cellspacing="0">
                <tr>
                    <td>
                        <mat-form-field class="example-full-width" appearance="standard" >
                            <mat-label>Order Date</mat-label>
                            <input matInput [matDatepicker]="picker1" required formControlName="orderdate">
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                            <mat-error *ngIf="formGroup.get('orderdate').hasError('required')">
                                Required field
                            </mat-error>
                        </mat-form-field>
                    </td>
                    <td>
                        <mat-form-field class="example-full-width" appearance="standard">
                            <mat-label>Required Date</mat-label>
                            <input matInput [matDatepicker]="picker2" required formControlName="requireddate">
                            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                            <mat-datepicker #picker2></mat-datepicker>
                            <mat-error *ngIf="formGroup.get('requireddate').hasError('required')">
                                Required field
                            </mat-error>
                        </mat-form-field>
                    </td>
                    <td>
                        <mat-form-field class="example-full-width" appearance="standard">
                            <mat-label>Shipped Date</mat-label>
                            <input matInput [matDatepicker]="picker3" required formControlName="shippeddate">
                            <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                            <mat-datepicker #picker3></mat-datepicker>
                            <mat-error *ngIf="formGroup.get('shippeddate').hasError('required')">
                                Required field
                            </mat-error>
                        </mat-form-field>
                    </td>
                </tr>
            </table>
            <mat-form-field class="example-full-width" appearance="standard">
                <mat-label>Freight</mat-label>
                <span matPrefix>$</span>
                <input matInput required formControlName="freight" autocomplete="off">
                <mat-error *ngIf="formGroup.get('freight').hasError('required')">
                    Required field
                </mat-error>
            </mat-form-field>
            <mat-divider></mat-divider>
            <h2 class="mat-h2">Order Details</h2>
            <div formGroupName="detail">
                <mat-form-field appearance="standard">
                    <mat-label>Product</mat-label>
                    <mat-select formControlName="productid" required>
                        <mat-option *ngFor="let product of products"
                                    [value]="product.productId">{{product.productName}}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="formGroup.get('detail.productid').hasError('required')">
                        Required field
                    </mat-error>
                </mat-form-field>
                <table class="example-full-width" cellspacing="0">
                    <tr>
                        <td>
                            <mat-form-field class="example-full-width" appearance="standard">
                                <mat-label>Unit Price</mat-label>
                                <input matInput required currencyMask formControlName="unitprice" autocomplete="off">
                                <mat-error *ngIf="formGroup.get('detail.unitprice').hasError('required')">
                                    Required field
                                </mat-error>
                            </mat-form-field>
                        </td>
                        <td>
                            <mat-form-field class="example-full-width" appearance="standard">
                                <mat-label>Quantity</mat-label>
                                <input matInput required currencyMask formControlName="qty" autocomplete="off">
                                <mat-error *ngIf="formGroup.get('detail.qty').hasError('required')">
                                    Required field
                                </mat-error>
                            </mat-form-field>
                        </td>
                        <td>
                            <mat-form-field class="example-full-width" appearance="standard">
                                <mat-label>Discount</mat-label>
                                <input matInput required currencyMask formControlName="discount" autocomplete="off">
                                <mat-error *ngIf="formGroup.get('detail.discount').hasError('required')">
                                    Required field
                                </mat-error>
                            </mat-form-field>
                        </td>
                    </tr>
                </table>
            </div>
        </form>
    </div>
    <div mat-dialog-actions>
        <button class="button-close" mat-button color="warn" (click)="matDialogRef.close()"
                aria-label="Close dialog">
            CLOSE
        </button>
        <button class="button-close green" mat-button (click)="newOrder()"
                aria-label="Close dialog">
            SAVE
        </button>
    </div>
</div>
